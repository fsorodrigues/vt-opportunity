!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),i.hasOwnProperty(n)?{space:i[n],local:t}:t};var u=function(t){var n=o(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===r&&n.documentElement.namespaceURI===r?n.createElement(t):n.createElementNS(e,t)}})(n)};function a(){}var l=function(t){return null==t?a:function(){return this.querySelector(t)}};function c(){return[]}var s=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var f=document.documentElement;if(!f.matches){var h=f.webkitMatchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector;s=function(t){return function(){return h.call(this,t)}}}}var p=s,d=function(t){return new Array(t.length)};function v(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function m(t,n,e,r,i,o){for(var u,a=0,l=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new v(t,o[a]);for(;a<l;++a)(u=n[a])&&(i[a]=u)}function y(t,n,e,r,i,o,u){var a,l,c,s={},f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(l=n[a])&&(p[a]=c=g+u.call(l,l.__data__,a,n),c in s?i[a]=l:s[c]=l);for(a=0;a<h;++a)(l=s[c=g+u.call(t,o[a],a,o)])?(r[a]=l,l.__data__=o[a],s[c]=null):e[a]=new v(t,o[a]);for(a=0;a<f;++a)(l=n[a])&&s[p[a]]===l&&(i[a]=l)}function _(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var w=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function x(t){return t.trim().split(/^|\s+/)}function b(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=x(t.getAttribute("class")||"")}function S(t,n){for(var e=b(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function A(t,n){for(var e=b(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}E.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function M(){this.textContent=""}function N(){this.innerHTML=""}function k(){this.nextSibling&&this.parentNode.appendChild(this)}function P(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function j(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function $(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var R={},T=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(R={mouseenter:"mouseover",mouseleave:"mouseout"}));function z(t,n,e){return t=L(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function L(t,n,e){return function(r){var i=T;T=r;try{t.call(this,this.__data__,n,e)}finally{T=i}}}function B(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function q(t,n,e){var r=R.hasOwnProperty(t.type)?z:L;return function(i,o,u){var a,l=this.__on,c=r(n,o,u);if(l)for(var s=0,f=l.length;s<f;++s)if((a=l[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=e),void(a.value=n);this.addEventListener(t.type,c,e),a={type:t.type,name:t.name,value:n,listener:c,capture:e},l?l.push(a):this.__on=[a]}}function D(t,n,e){var r=w(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var H=[null];function F(t,n){this._groups=t,this._parents=n}function U(){return new F([[document.documentElement]],H)}F.prototype=U.prototype={constructor:F,select:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new F(r,this._parents)},selectAll:function(t){var n;"function"!=typeof t&&(t=null==(n=t)?c:function(){return this.querySelectorAll(n)});for(var e=this._groups,r=e.length,i=[],o=[],u=0;u<r;++u)for(var a,l=e[u],s=l.length,f=0;f<s;++f)(a=l[f])&&(i.push(t.call(a,a.__data__,f,l)),o.push(a));return new F(i,o)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,l=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&l.push(o);return new F(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var e,r=n?y:m,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),l=new Array(u),c=new Array(u),s=0;s<u;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),v=d.length,g=l[s]=new Array(v),_=a[s]=new Array(v);r(f,h,g,_,c[s]=new Array(p),d,n);for(var w,x,b=0,E=0;b<v;++b)if(w=g[b]){for(b>=E&&(E=b+1);!(x=_[E])&&++E<v;);w._next=x||null}}return(a=new F(a,i))._enter=l,a._exit=c,a},enter:function(){return new F(this._enter||this._groups.map(d),this._parents)},exit:function(){return new F(this._exit||this._groups.map(d),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l,c=n[a],s=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(l=c[p]||s[p])&&(h[p]=l);for(;a<r;++a)u[a]=n[a];return new F(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],l=a.length,c=i[o]=new Array(l),s=0;s<l;++s)(u=a[s])&&(c[s]=u);c.sort(n)}return new F(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=o(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):function(t,n){return t.style.getPropertyValue(n)||w(t).getComputedStyle(t,null).getPropertyValue(n)}(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=x(t+"");if(arguments.length<2){for(var r=b(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?S:A)(this,t)}}:n?function(t){return function(){S(this,t)}}:function(t){return function(){A(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(k)},lower:function(){return this.each(P)},append:function(t){var n="function"==typeof t?t:u(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:u(t),r=null==n?C:"function"==typeof n?n:l(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(O)},clone:function(t){return this.select(t?$:j)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?q:B,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var l,c=0,s=a.length;c<s;++c)for(r=0,l=a[c];r<u;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return D(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return D(this,t,n)}})(t,n))}};var W=function(t){return"string"==typeof t?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],H)},I=0;function V(){this._="@"+(++I).toString(36)}V.prototype=function(){return new V}.prototype={constructor:V,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var X={},G={},Z=34,J=10,Y=13;function K(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var Q=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,l=o<=0,c=!1;function s(){if(l)return G;if(c)return c=!1,X;var n,r,i=u;if(t.charCodeAt(i)===Z){for(;u++<o&&t.charCodeAt(u)!==Z||t.charCodeAt(++u)===Z;);return(n=u)>=o?l=!0:(r=t.charCodeAt(u++))===J?c=!0:r===Y&&(c=!0,t.charCodeAt(u)===J&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if((r=t.charCodeAt(n=u++))===J)c=!0;else if(r===Y)c=!0,t.charCodeAt(u)===J&&++u;else if(r!==e)continue;return t.slice(i,n)}return l=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===J&&--o,t.charCodeAt(o-1)===Y&&--o;(r=s())!==G;){for(var f=[];r!==X&&r!==G;)f.push(r),r=s();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=K(t);return function(r,i){return n(e(r),i,t)}}(t,n):K(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},tt=Q(","),nt=tt.parse,et=(tt.parseRows,tt.format,tt.formatRows,Q("\t")),rt=et.parse;et.parseRows,et.format,et.formatRows;function it(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ot=function(t,n){return fetch(t,n).then(it)};function ut(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),ot(n,e).then(function(n){return t(n,r)})}}ut(nt),ut(rt);function at(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var lt=function(t,n){return fetch(t,n).then(at)};function ct(t){return function(n,e){return ot(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}ct("application/xml"),ct("text/html"),ct("image/svg+xml");var st=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},ft=function(t){return(t=st(Math.abs(t)))?t[1]:NaN},ht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(t){return new dt(t)}function dt(t){if(!(n=ht.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}pt.prototype=dt.prototype,dt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vt,gt,mt,yt=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t},_t=function(t,n){var e=st(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},wt={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return _t(100*t,n)},r:_t,s:function(t,n){var e=st(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(vt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+st(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},xt=function(t){return t},bt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];gt=function(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],u=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}):xt,i=t.currency,o=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):xt,a=t.percent||"%";function l(t){var n=(t=pt(t)).fill,e=t.align,l=t.sign,c=t.symbol,s=t.zero,f=t.width,h=t.comma,p=t.precision,d=t.trim,v=t.type;"n"===v?(h=!0,v="g"):wt[v]||(null==p&&(p=12),d=!0,v="g"),(s||"0"===n&&"="===e)&&(s=!0,n="0",e="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===c?i[1]:/[%p]/.test(v)?a:"",y=wt[v],_=/[defgprs%]/.test(v);function w(t){var i,a,c,w=g,x=m;if("c"===v)x=y(t)+x,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),p),d&&(t=yt(t)),b&&0==+t&&(b=!1),w=(b?"("===l?l:"-":"-"===l||"("===l?"":l)+w,x=("s"===v?bt[8+vt/3]:"")+x+(b&&"("===l?")":""),_)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}h&&!s&&(t=r(t,1/0));var E=w.length+t.length+x.length,S=E<f?new Array(f-E+1).join(n):"";switch(h&&s&&(t=r(S+t,S.length?f-x.length:1/0),S=""),e){case"<":t=w+t+x+S;break;case"=":t=w+S+t+x;break;case"^":t=S.slice(0,E=S.length>>1)+w+t+x+S.slice(E);break;default:t=S+w+t+x}return u(t)}return p=null==p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),w.toString=function(){return t+""},w}return{format:l,formatPrefix:function(t,n){var e=l(((t=pt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ft(n)/3))),i=Math.pow(10,-r),o=bt[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),mt=gt.format,gt.formatPrefix;const Et=mt(".2%"),St=t=>`${t.charAt(0).toUpperCase()}${t.substring(1).toLowerCase()}`,At={selected:"Opportunity Zone","not selected":"Eligible, but not selected"};e(0),e(1);var Mt=function(){return new Nt};function Nt(){this.reset()}Nt.prototype={constructor:Nt,reset:function(){this.s=this.t=0},add:function(t){Pt(kt,t,this.t),Pt(this,kt.s,this.s),this.s?this.t+=kt.t:this.s=kt.t},valueOf:function(){return this.s}};var kt=new Nt;function Pt(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Ct=1e-6,Ot=Math.PI,jt=Ot/2,$t=Ot/4,Rt=2*Ot,Tt=180/Ot,zt=Ot/180,Lt=Math.abs,Bt=Math.atan,qt=Math.atan2,Dt=Math.cos,Ht=(Math.ceil,Math.exp),Ft=(Math.floor,Math.log),Ut=(Math.pow,Math.sin),Wt=(Math.sign,Math.sqrt),It=Math.tan;function Vt(t){return t>1?0:t<-1?Ot:Math.acos(t)}function Xt(t){return t>1?jt:t<-1?-jt:Math.asin(t)}function Gt(){}function Zt(t,n){t&&Yt.hasOwnProperty(t.type)&&Yt[t.type](t,n)}var Jt={Feature:function(t,n){Zt(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Zt(e[r].geometry,n)}},Yt={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Kt(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Kt(e[r],n,0)},Polygon:function(t,n){Qt(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Qt(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Zt(e[r],n)}};function Kt(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Qt(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Kt(t[e],n,1);n.polygonEnd()}var tn=function(t,n){t&&Jt.hasOwnProperty(t.type)?Jt[t.type](t,n):Zt(t,n)};Mt(),Mt();function nn(t){return[qt(t[1],t[0]),Xt(t[2])]}function en(t){var n=t[0],e=t[1],r=Dt(e);return[r*Dt(n),r*Ut(n),Ut(e)]}function rn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function on(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function un(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function an(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ln(t){var n=Wt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}Mt();var cn=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function sn(t,n){return[Lt(t)>Ot?t+Math.round(-t/Rt)*Rt:t,n]}function fn(t,n,e){return(t%=Rt)?n||e?cn(pn(t),dn(n,e)):pn(t):n||e?dn(n,e):sn}function hn(t){return function(n,e){return[(n+=t)>Ot?n-Rt:n<-Ot?n+Rt:n,e]}}function pn(t){var n=hn(t);return n.invert=hn(-t),n}function dn(t,n){var e=Dt(t),r=Ut(t),i=Dt(n),o=Ut(n);function u(t,n){var u=Dt(n),a=Dt(t)*u,l=Ut(t)*u,c=Ut(n),s=c*e+a*r;return[qt(l*i-s*o,a*e-c*r),Xt(s*i+l*o)]}return u.invert=function(t,n){var u=Dt(n),a=Dt(t)*u,l=Ut(t)*u,c=Ut(n),s=c*i-l*o;return[qt(l*i+c*o,a*e+s*r),Xt(s*e-a*r)]},u}sn.invert=sn;var vn=function(t){function n(n){return(n=t(n[0]*zt,n[1]*zt))[0]*=Tt,n[1]*=Tt,n}return t=fn(t[0]*zt,t[1]*zt,t.length>2?t[2]*zt:0),n.invert=function(n){return(n=t.invert(n[0]*zt,n[1]*zt))[0]*=Tt,n[1]*=Tt,n},n};function gn(t,n,e,r,i,o){if(e){var u=Dt(n),a=Ut(n),l=r*e;null==i?(i=n+r*Rt,o=n-l/2):(i=mn(u,i),o=mn(u,o),(r>0?i<o:i>o)&&(i+=r*Rt));for(var c,s=i;r>0?s>o:s<o;s-=l)c=nn([u,-a*Dt(s),-a*Ut(s)]),t.point(c[0],c[1])}}function mn(t,n){(n=en(n))[0]-=t,ln(n);var e=Vt(-n[1]);return((-n[2]<0?-e:e)+Rt-Ct)%Rt}var yn=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Gt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},_n=function(t,n){return Lt(t[0]-n[0])<Ct&&Lt(t[1]-n[1])<Ct};function wn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var xn=function(t,n,e,r,i){var o,u,a=[],l=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(_n(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new wn(r,t,null,!0)),l.push(e.o=new wn(r,null,e,!1)),a.push(e=new wn(u,t,null,!1)),l.push(e.o=new wn(u,null,e,!0))}}),a.length){for(l.sort(n),bn(a),bn(l),o=0,u=l.length;o<u;++o)l[o].e=e=!e;for(var c,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=c.length;o<u;++o)i.point((s=c[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}};function bn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var En=Mt(),Sn=function(t,n){var e=n[0],r=n[1],i=Ut(r),o=[Ut(e),-Dt(e),0],u=0,a=0;En.reset(),1===i?r=jt+Ct:-1===i&&(r=-jt-Ct);for(var l=0,c=t.length;l<c;++l)if(f=(s=t[l]).length)for(var s,f,h=s[f-1],p=h[0],d=h[1]/2+$t,v=Ut(d),g=Dt(d),m=0;m<f;++m,p=_,v=x,g=b,h=y){var y=s[m],_=y[0],w=y[1]/2+$t,x=Ut(w),b=Dt(w),E=_-p,S=E>=0?1:-1,A=S*E,M=A>Ot,N=v*x;if(En.add(qt(N*S*Ut(A),g*b+N*Dt(A))),u+=M?E+S*Rt:E,M^p>=e^_>=e){var k=on(en(h),en(y));ln(k);var P=on(o,k);ln(P);var C=(M^E>=0?-1:1)*Xt(P[2]);(r>C||r===C&&(k[0]||k[1]))&&(a+=M^E>=0?1:-1)}}return(u<-Ct||u<Ct&&En<-Ct)^1&a},An=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN};var Mn,Nn;1===(Mn=An).length&&(Nn=Mn,Mn=function(t,n){return An(Nn(t),n)});var kn=Array.prototype;kn.slice,kn.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Pn=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e};var Cn=function(t,n,e,r){return function(i){var o,u,a,l=n(i),c=yn(),s=n(c),f=!1,h={point:p,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=_,u=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=g,u=Pn(u);var t=Sn(o,r);u.length?(f||(i.polygonStart(),f=!0),xn(u,jn,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){l.point(t,n)}function v(){h.point=d,l.lineStart()}function g(){h.point=p,l.lineEnd()}function m(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function _(){m(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,l=s.clean(),h=c.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),u.push(h.filter(On))}return h}};function On(t){return t.length>1}function jn(t,n){return((t=t.x)[0]<0?t[1]-jt-Ct:jt-t[1])-((n=n.x)[0]<0?n[1]-jt-Ct:jt-n[1])}var $n=Cn(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Ot:-Ot,l=Lt(o-e);Lt(l-Ot)<Ct?(t.point(e,r=(r+u)/2>0?jt:-jt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&l>=Ot&&(Lt(e-i)<Ct&&(e-=i*Ct),Lt(o-a)<Ct&&(o-=a*Ct),r=function(t,n,e,r){var i,o,u=Ut(t-e);return Lt(u)>Ct?Bt((Ut(n)*(o=Dt(r))*Ut(e)-Ut(r)*(i=Dt(n))*Ut(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*jt,r.point(-Ot,i),r.point(0,i),r.point(Ot,i),r.point(Ot,0),r.point(Ot,-i),r.point(0,-i),r.point(-Ot,-i),r.point(-Ot,0),r.point(-Ot,i);else if(Lt(t[0]-n[0])>Ct){var o=t[0]<n[0]?Ot:-Ot;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Ot,-jt]);var Rn=function(t){var n=Dt(t),e=6*zt,r=n>0,i=Lt(n)>Ct;function o(t,e){return Dt(t)*Dt(e)>n}function u(t,e,r){var i=[1,0,0],o=on(en(t),en(e)),u=rn(o,o),a=o[0],l=u-a*a;if(!l)return!r&&t;var c=n*u/l,s=-n*a/l,f=on(i,o),h=an(i,c);un(h,an(o,s));var p=f,d=rn(h,p),v=rn(p,p),g=d*d-v*(rn(h,h)-1);if(!(g<0)){var m=Wt(g),y=an(p,(-d-m)/v);if(un(y,h),y=nn(y),!r)return y;var _,w=t[0],x=e[0],b=t[1],E=e[1];x<w&&(_=w,w=x,x=_);var S=x-w,A=Lt(S-Ot)<Ct;if(!A&&E<b&&(_=b,b=E,E=_),A||S<Ct?A?b+E>0^y[1]<(Lt(y[0]-w)<Ct?b:E):b<=y[1]&&y[1]<=E:S>Ot^(w<=y[0]&&y[0]<=x)){var M=an(p,(-d+m)/v);return un(M,h),[y,nn(M)]}}}function a(n,e){var i=r?t:Ot-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Cn(o,function(t){var n,e,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var p,d=[f,h],v=o(f,h),g=r?v?0:a(f,h):v?a(f+(f<0?Ot:-Ot),h):0;if(!n&&(c=l=v)&&t.lineStart(),v!==l&&(!(p=u(n,d))||_n(n,p)||_n(d,p))&&(d[0]+=Ct,d[1]+=Ct,v=o(d[0],d[1])),v!==l)s=0,v?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(i&&n&&r^v){var m;g&e||!(m=u(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||n&&_n(n,d)||t.point(d[0],d[1]),n=d,l=v,e=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return s|(c&&l)<<1}}},function(n,r,i,o){gn(o,t,e,i,n,r)},r?[0,-t]:[-Ot,t-Ot])},Tn=function(t,n,e,r,i,o){var u,a=t[0],l=t[1],c=0,s=1,f=n[0]-a,h=n[1]-l;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<c)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>c&&(c=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>c&&(c=u)}else if(f>0){if(u<c)return;u<s&&(s=u)}if(u=r-l,h||!(u>0)){if(u/=h,h<0){if(u<c)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>c&&(c=u)}if(u=o-l,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>c&&(c=u)}else if(h>0){if(u<c)return;u<s&&(s=u)}return c>0&&(t[0]=a+c*f,t[1]=l+c*h),s<1&&(n[0]=a+s*f,n[1]=l+s*h),!0}}}}},zn=1e9,Ln=-zn;function Bn(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,c){var s=0,f=0;if(null==i||(s=u(i,a))!==(f=u(o,a))||l(i,o)<0^a>0)do{c.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==f);else c.point(o[0],o[1])}function u(r,i){return Lt(r[0]-t)<Ct?i>0?0:3:Lt(r[0]-e)<Ct?i>0?2:1:Lt(r[1]-n)<Ct?i>0?1:0:i>0?3:2}function a(t,n){return l(t.x,n.x)}function l(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var l,c,s,f,h,p,d,v,g,m,y,_=u,w=yn(),x={point:b,lineStart:function(){x.point=E,c&&c.push(s=[]);m=!0,g=!1,d=v=NaN},lineEnd:function(){l&&(E(f,h),p&&g&&w.rejoin(),l.push(w.result()));x.point=b,g&&_.lineEnd()},polygonStart:function(){_=w,l=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,u,a=c[e],l=1,s=a.length,f=a[0],h=f[0],p=f[1];l<s;++l)o=h,u=p,f=a[l],h=f[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=y&&n,i=(l=Pn(l)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&xn(l,a,n,o,u),u.polygonEnd());_=u,l=c=s=null}};function b(t,n){i(t,n)&&_.point(t,n)}function E(o,u){var a=i(o,u);if(c&&s.push([o,u]),m)f=o,h=u,p=a,m=!1,a&&(_.lineStart(),_.point(o,u));else if(a&&g)_.point(o,u);else{var l=[d=Math.max(Ln,Math.min(zn,d)),v=Math.max(Ln,Math.min(zn,v))],w=[o=Math.max(Ln,Math.min(zn,o)),u=Math.max(Ln,Math.min(zn,u))];Tn(l,w,t,n,e,r)?(g||(_.lineStart(),_.point(l[0],l[1])),_.point(w[0],w[1]),a||_.lineEnd(),y=!1):a&&(_.lineStart(),_.point(o,u),y=!1)}d=o,v=u,g=a}return x}}Mt();var qn,Dn,Hn,Fn,Un=function(t){return t},Wn=Mt(),In=Mt(),Vn={point:Gt,lineStart:Gt,lineEnd:Gt,polygonStart:function(){Vn.lineStart=Xn,Vn.lineEnd=Jn},polygonEnd:function(){Vn.lineStart=Vn.lineEnd=Vn.point=Gt,Wn.add(Lt(In)),In.reset()},result:function(){var t=Wn/2;return Wn.reset(),t}};function Xn(){Vn.point=Gn}function Gn(t,n){Vn.point=Zn,qn=Hn=t,Dn=Fn=n}function Zn(t,n){In.add(Fn*t-Hn*n),Hn=t,Fn=n}function Jn(){Zn(qn,Dn)}var Yn=Vn,Kn=1/0,Qn=Kn,te=-Kn,ne=te;var ee,re,ie,oe,ue={point:function(t,n){t<Kn&&(Kn=t);t>te&&(te=t);n<Qn&&(Qn=n);n>ne&&(ne=n)},lineStart:Gt,lineEnd:Gt,polygonStart:Gt,polygonEnd:Gt,result:function(){var t=[[Kn,Qn],[te,ne]];return te=ne=-(Qn=Kn=1/0),t}},ae=0,le=0,ce=0,se=0,fe=0,he=0,pe=0,de=0,ve=0,ge={point:me,lineStart:ye,lineEnd:xe,polygonStart:function(){ge.lineStart=be,ge.lineEnd=Ee},polygonEnd:function(){ge.point=me,ge.lineStart=ye,ge.lineEnd=xe},result:function(){var t=ve?[pe/ve,de/ve]:he?[se/he,fe/he]:ce?[ae/ce,le/ce]:[NaN,NaN];return ae=le=ce=se=fe=he=pe=de=ve=0,t}};function me(t,n){ae+=t,le+=n,++ce}function ye(){ge.point=_e}function _e(t,n){ge.point=we,me(ie=t,oe=n)}function we(t,n){var e=t-ie,r=n-oe,i=Wt(e*e+r*r);se+=i*(ie+t)/2,fe+=i*(oe+n)/2,he+=i,me(ie=t,oe=n)}function xe(){ge.point=me}function be(){ge.point=Se}function Ee(){Ae(ee,re)}function Se(t,n){ge.point=Ae,me(ee=ie=t,re=oe=n)}function Ae(t,n){var e=t-ie,r=n-oe,i=Wt(e*e+r*r);se+=i*(ie+t)/2,fe+=i*(oe+n)/2,he+=i,pe+=(i=oe*t-ie*n)*(ie+t),de+=i*(oe+n),ve+=3*i,me(ie=t,oe=n)}var Me=ge;function Ne(t){this._context=t}Ne.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Rt)}},result:Gt};var ke,Pe,Ce,Oe,je,$e=Mt(),Re={point:Gt,lineStart:function(){Re.point=Te},lineEnd:function(){ke&&ze(Pe,Ce),Re.point=Gt},polygonStart:function(){ke=!0},polygonEnd:function(){ke=null},result:function(){var t=+$e;return $e.reset(),t}};function Te(t,n){Re.point=ze,Pe=Oe=t,Ce=je=n}function ze(t,n){Oe-=t,je-=n,$e.add(Wt(Oe*Oe+je*je)),Oe=t,je=n}var Le=Re;function Be(){this._string=[]}function qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Be.prototype={_radius:4.5,_circle:qe(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=qe(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var De=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),tn(t,e(r))),r.result()}return o.area=function(t){return tn(t,e(Yn)),Yn.result()},o.measure=function(t){return tn(t,e(Le)),Le.result()},o.bounds=function(t){return tn(t,e(ue)),ue.result()},o.centroid=function(t){return tn(t,e(Me)),Me.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Un):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Be):new Ne(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)};function He(t){return function(n){var e=new Fe;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Fe(){}function Ue(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tn(e,t.stream(ue)),n(ue.result()),null!=r&&t.clipExtent(r),t}function We(t,n,e){return Ue(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function Ie(t,n,e){return We(t,[[0,0],n],e)}function Ve(t,n,e){return Ue(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function Xe(t,n,e){return Ue(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}Fe.prototype={constructor:Fe,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ge=16,Ze=Dt(30*zt),Je=function(t,n){return+n?function(t,n){function e(r,i,o,u,a,l,c,s,f,h,p,d,v,g){var m=c-r,y=s-i,_=m*m+y*y;if(_>4*n&&v--){var w=u+h,x=a+p,b=l+d,E=Wt(w*w+x*x+b*b),S=Xt(b/=E),A=Lt(Lt(b)-1)<Ct||Lt(o-f)<Ct?(o+f)/2:qt(x,w),M=t(A,S),N=M[0],k=M[1],P=N-r,C=k-i,O=y*P-m*C;(O*O/_>n||Lt((m*P+y*C)/_-.5)>.3||u*h+a*p+l*d<Ze)&&(e(r,i,o,u,a,l,N,k,A,w/=E,x/=E,b,v,g),g.point(N,k),e(N,k,A,w,x,b,c,s,f,h,p,d,v,g))}}return function(n){var r,i,o,u,a,l,c,s,f,h,p,d,v={point:g,lineStart:m,lineEnd:_,polygonStart:function(){n.polygonStart(),v.lineStart=w},polygonEnd:function(){n.polygonEnd(),v.lineStart=m}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,v.point=y,n.lineStart()}function y(r,i){var o=en([r,i]),u=t(r,i);e(s,f,c,h,p,d,s=u[0],f=u[1],c=r,h=o[0],p=o[1],d=o[2],Ge,n),n.point(s,f)}function _(){v.point=g,n.lineEnd()}function w(){m(),v.point=x,v.lineEnd=b}function x(t,n){y(r=t,n),i=s,o=f,u=h,a=p,l=d,v.point=y}function b(){e(s,f,c,h,p,d,i,o,r,u,a,l,Ge,n),v.lineEnd=_,_()}return v}}(t,n):function(t){return He({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var Ye=He({point:function(t,n){this.stream.point(t*zt,n*zt)}});function Ke(t,n,e,r){var i=Dt(r),o=Ut(r),u=i*t,a=o*t,l=i/t,c=o/t,s=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[u*t-a*r+n,e-a*t-u*r]}return h.invert=function(t,n){return[l*t-c*n+s,f-c*t-l*n]},h}function Qe(t){return tr(function(){return t})()}function tr(t){var n,e,r,i,o,u,a,l,c,s,f=150,h=480,p=250,d=0,v=0,g=0,m=0,y=0,_=0,w=null,x=$n,b=null,E=Un,S=.5;function A(t){return l(t[0]*zt,t[1]*zt)}function M(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Tt,t[1]*Tt]}function N(){var t=Ke(f,0,0,_).apply(null,n(d,v)),r=(_?Ke:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],p-t[1],_);return e=fn(g,m,y),a=cn(n,r),l=cn(e,a),u=Je(a,S),k()}function k(){return c=s=null,A}return A.stream=function(t){return c&&s===t?c:c=Ye(function(t){return He({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(E(s=t)))))},A.preclip=function(t){return arguments.length?(x=t,w=void 0,k()):x},A.postclip=function(t){return arguments.length?(E=t,b=r=i=o=null,k()):E},A.clipAngle=function(t){return arguments.length?(x=+t?Rn(w=t*zt):(w=null,$n),k()):w*Tt},A.clipExtent=function(t){return arguments.length?(E=null==t?(b=r=i=o=null,Un):Bn(b=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),k()):null==b?null:[[b,r],[i,o]]},A.scale=function(t){return arguments.length?(f=+t,N()):f},A.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},A.center=function(t){return arguments.length?(d=t[0]%360*zt,v=t[1]%360*zt,N()):[d*Tt,v*Tt]},A.rotate=function(t){return arguments.length?(g=t[0]%360*zt,m=t[1]%360*zt,y=t.length>2?t[2]%360*zt:0,N()):[g*Tt,m*Tt,y*Tt]},A.angle=function(t){return arguments.length?(_=t%360*zt,N()):_*Tt},A.precision=function(t){return arguments.length?(u=Je(a,S=t*t),k()):Wt(S)},A.fitExtent=function(t,n){return We(A,t,n)},A.fitSize=function(t,n){return Ie(A,t,n)},A.fitWidth=function(t,n){return Ve(A,t,n)},A.fitHeight=function(t,n){return Xe(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&M,N()}}function nr(t){return function(n,e){var r=Dt(n),i=Dt(e),o=t(r*i);return[o*i*Ut(n),o*Ut(e)]}}function er(t){return function(n,e){var r=Wt(n*n+e*e),i=t(r),o=Ut(i),u=Dt(i);return[qt(n*o,r*u),Xt(r&&e*o/r)]}}var rr=nr(function(t){return Wt(2/(1+t))});rr.invert=er(function(t){return 2*Xt(t/2)});var ir=nr(function(t){return(t=Vt(t))&&t/Ut(t)});ir.invert=er(function(t){return t});function or(t,n){return[t,Ft(It((jt+n)/2))]}or.invert=function(t,n){return[t,2*Bt(Ht(n))-jt]};var ur=function(){return ar(or).scale(961/Rt)};function ar(t){var n,e,r,i=Qe(t),o=i.center,u=i.scale,a=i.translate,l=i.clipExtent,c=null;function s(){var o=Ot*u(),a=i(vn(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===or?[[Math.max(a[0]-o,c),n],[Math.min(a[0]+o,e),r]]:[[c,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),s()):u()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}function lr(t,n){return[t,n]}lr.invert=lr;var cr=1.340264,sr=-.081106,fr=893e-6,hr=.003796,pr=Wt(3)/2;function dr(t,n){var e=Xt(pr*Ut(n)),r=e*e,i=r*r*r;return[t*Dt(e)/(pr*(cr+3*sr*r+i*(7*fr+9*hr*r))),e*(cr+sr*r+i*(fr+hr*r))]}dr.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(cr+sr*i+o*(fr+hr*i))-n)/(cr+3*sr*i+o*(7*fr+9*hr*i)))*r)*i*i,!(Lt(e)<1e-12));++u);return[pr*t*(cr+3*sr*i+o*(7*fr+9*hr*i))/Dt(r),Xt(Ut(r)/pr)]};function vr(t,n){var e=Dt(n),r=Dt(t)*e;return[e*Ut(t)/r,Ut(n)/r]}vr.invert=er(Bt);function gr(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}gr.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(Lt(e)>Ct&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function mr(t,n){return[Dt(n)*Ut(t),Ut(n)]}mr.invert=er(Xt);function yr(t,n){var e=Dt(n),r=1+Dt(t)*e;return[e*Ut(t)/r,Ut(n)/r]}yr.invert=er(function(t){return 2*Bt(t)});function _r(t,n){return[Ft(It((jt+n)/2)),-t]}_r.invert=function(t,n){return[-n,2*Bt(Ht(t))-jt]};var wr={value:function(){}};function xr(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new br(r)}function br(t){this._=t}function Er(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Sr(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=wr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}br.prototype=xr.prototype={constructor:br,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<a;)if(e=(t=o[u]).type)i[e]=Sr(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Sr(i[e],t.name,null);return this}for(;++u<a;)if((e=(t=o[u]).type)&&(e=Er(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new br(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ar=xr;const Mr=function(t){let n={t:0,r:0,b:0,l:0},e=!1,r={};function i(t){let n=W(this).selectAll(".legend-group").data(Object.keys(t));const e=n.enter().append("g").classed("legend-group",!0);n.exit().remove();let r=(n=n.merge(e).attr("transform",(t,n)=>`translate(0,${30*n})`)).selectAll(".legend-rect").data(t=>[t]);const i=r.enter().append("rect").classed("legend-rect",!0);r.exit().remove(),r=r.merge(i).attr("width",15).attr("height",15).attr("fill",t=>"selected"===t?"#9acd32":"#ffa500");let o=n.selectAll(".legend-label").data(t=>[t]);const u=o.enter().append("text").classed("legend-label",!0);o.exit().remove(),o=o.merge(u).attr("x",18).attr("y",12).text(n=>t[n])}return i.margin=function(t){return"undefined"===t?n:(n=t,this)},i.textures=function(t){return"undefined"===t?r:(r=t,this)},i.isMobile=function(t){return"undefined"===t?e:(e=t,this)},i.on=function(t,n){return dispatcher.on(t,n),this},i}();var Nr=function(t){let n={t:0,r:0,b:0,l:0},e=!1;const r=Ar("tooltip:toggle","tooltip:untoggle","node:add:stroke","node:remove:stroke","node:reappend");function i(t){const i=W(this),o=this.clientWidth,u=this.clientHeight,a=n,l=o-(a.r+a.l),c=u-(a.t+a.b),s=ur().scale(1e4).center([-72.6037393,43.85141865]).translate([l/2,c/2]);(e||l<500)&&s.scale(7e3).center([-72.2037393,43.85141865]).translate([l/2,c/2]);const f=De().projection(s);let h=i.selectAll(".svg-map").data([t]);const p=h.enter().append("svg").classed("svg-map",!0);h.exit().remove();let d=(h=h.merge(p).attr("width",o).attr("height",u)).selectAll(".plot").data(t=>[t]);const v=d.enter().append("g").classed("plot",!0);d.exit().remove(),d=d.merge(v).attr("transform",`translate(${a.l},${a.t})`);const g=e?165:2*l/3;let m=h.selectAll(".legend").data([At]);const y=m.enter().append("g").classed("plot",!0);m.exit().remove(),m=m.merge(y).attr("transform",`translate(${g},${c-100})`).each(Mr);let _=d.selectAll(".map-tile").data(t=>t);const w=_.enter().append("g").classed("map-tile",!0);_.exit().remove();let x=(_=_.merge(w)).selectAll(".map-node").data(t=>[t]);const b=x.enter().append("g").classed("map-node",!0);x.exit().remove();let E=(x=x.merge(b)).selectAll(".map-path").data(t=>t.features);const S=E.enter().append("path").attr("class",t=>"class").classed("map-path",!0);E.exit().remove(),E=E.merge(S).attr("d",t=>f(t)).style("stroke","gainsboro").style("stroke-width",t=>t.properties.hasOwnProperty("TOWNNAME")?0:.25).style("fill",t=>t.properties.hasOwnProperty("TOWNNAME")?"gainsboro":"selected"===t.properties.status?"#9acd32":"#ffa500").style("pointer-events",t=>t.properties.hasOwnProperty("TOWNNAME")?"none":"all").on("mouseenter",function(t){r.call("node:add:stroke",this,null),r.call("node:reappend",this,null),r.call("tooltip:toggle",this,t.properties)}).on("mouseleave",function(t){r.call("node:remove:stroke",this,null),r.call("tooltip:untoggle",this,null)})}return i.margin=function(t){return"undefined"===t?n:(n=t,this)},i.minDate=function(t){return"undefined"===t?_minDate:(_minDate=t,this)},i.isMobile=function(t){return"undefined"===t?e:(e=t,this)},i.on=function(t,n){return r.on(t,n),this},i};const kr=function(t){const n=["Rate"],e=["unemployment","poverty"];let r="CHANGE TEXT HERE",i=!1,o=!1,u=0;function a(t){let r=W(this).selectAll(".table-container").data([1]);const i=r.enter().append("div").classed("table-container",!0);r.exit().remove();let o=(r=r.merge(i)).selectAll(".table").data([1]);const u=o.enter().append("table").classed("table",!0).classed("table-striped",!0).classed("table-sm",!0);o.exit().remove();let a=(o=o.merge(u)).selectAll("thead").data([t]);const l=a.enter().append("thead").classed("table-header",!0);a.exit().remove();let c=(a=a.merge(l)).selectAll("tr").data([t]);const s=c.enter().append("tr").classed("table-header-row",!0);c.exit().remove();let f=(c=c.merge(s)).selectAll("th").data(n);const h=f.enter().append("th").classed("table-header-cell",!0);f.exit().remove(),f=f.merge(h).attr("colspan",e.length).text(t=>t);let p=o.selectAll("tbody").data([t]);const d=p.enter().append("tbody").classed("table-body",!0);p.exit().remove();let v=(p=p.merge(d)).selectAll("tr").data(e);const g=v.enter().append("tr").classed("table-body-row",!0);v.exit().remove();let m=(v=v.merge(g)).selectAll("td").data(n=>[`${n}`,t[`${n}-rate`]]);const y=m.enter().append("td").classed("table-body-cell",!0);m.exit().remove(),m=m.merge(y).html(t=>"number"==typeof t?Et(t):St(t))}return a.isMobile=function(t){return"undefined"===t?i:(i=t,this)},a.showFooter=function(t){return"undefined"===t?o:(o=t,this)},a.sourceFooter=function(t){return"undefined"===t?r:(r=t,this)},a.index=function(t){return"undefined"===t?u:(u=t,this)},a}();const Pr=function(){return function(t){const n=W(this);let e=n.selectAll(".tooltip-text").data([t]);const r=e.enter().append("div").classed("tooltip-text",!0);e.exit().remove(),e=e.merge(r).html(t=>`\n                <p>Census tract <strong>${t["tract-nb"]}</strong></p>\n                <p><span class="small-span">${t.municipality}</span><span class='small-span faded'> - ${t.county} county</span></p>\n                <p><span class='badge badge-${t.status.split(" ").join("-")}'>${At[t.status].toUpperCase()}</span></p>\n                `);let i=n.selectAll(".tooltip-table").data([t]);const o=i.enter().append("div").classed("tooltip-table",!0);i.exit().remove(),i=i.merge(o).each(kr)}}();var Cr=function(){let t,n=!1,e=!0;const r=Ar("tooltip:untoggle");function i(i){const o=this,u=W(this);let a=u.selectAll(".tooltip").data([i]);const l=a.enter().append("div").classed("tooltip",!0);if(a.exit().remove(),a=a.merge(l),n&e){u.style("top","0px").style("left","0px").style("right","").style("bottom","");let t=u.selectAll(".close-btn").data([1]);const n=t.enter().append("div").classed("close-btn",!0);t.exit().remove(),t=t.merge(n).on("click",t=>{r.call("tooltip:untoggle",null,null)}),u.style("opacity",1)}else if(e){const n=o.parentNode.getBoundingClientRect(),e=t.getBoundingClientRect(),r=e.width;let a=u.selectAll(".tooltip").data([i]);const l=a.enter().append("div").classed("tooltip",!0);a.exit().remove(),a=a.merge(l).each(Pr);let c=e.top-n.top,s=e.left-n.left;c>2*n.height/3?(c=n.bottom-e.bottom,u.style("bottom",`${c}px`).style("top","")):u.style("top",`${c}px`).style("bottom",""),s>n.width/2?(s=n.right-e.right,u.style("right",`${s+r}px`).style("left","")):u.style("left",`${s+r}px`).style("right",""),u.style("opacity",1)}else u.style("top","-1000px").style("left","-1000px").style("right","").style("bottom","")}return i.isMobile=function(t){return"undefined"===t?n:(n=t,this)},i.eventNode=function(n){return"undefined"===n?t:(t=n,this)},i.toggle=function(t){return"undefined"===t?e:(e=t,this)},i.on=function(t,n){return r.on(t,n),this},i};const Or=Nr(),jr=Cr();var $r=function(t){let n={t:0,r:0,b:0,l:0},e=!1;function r(t){const r=W(this),i=(this.clientWidth,this.clientHeight,n);i.r,i.l,i.t,i.b,Or.isMobile(e),jr.isMobile(e);let o=r.selectAll(".map-container").data([t]);const u=o.enter().append("div").classed("map-container",!0);o.exit().remove(),o=o.merge(u).each(Or);let a=r.selectAll(".tooltip-container").data([1]);const l=a.enter().append("div").classed("tooltip-container",!0);a.exit().remove(),a=a.merge(l),Or.on("node:add:stroke",function(){W(this).style("stroke","black").style("stroke-width",1.5)}).on("node:remove:stroke",function(){W(this).style("stroke","gainsboro").style("stroke-width",.25)}).on("node:reappend",function(){this.parentNode.appendChild(this)}).on("tooltip:toggle",function(t){jr.toggle(!0).eventNode(this),a.data([t]).each(jr)}).on("tooltip:untoggle",function(t){jr.toggle(!1),a.each(jr)})}return r.isMobile=function(t){return"undefined"===t?e:(e=t,this)},r.margin=function(t){return"undefined"===t?n:(n=t,this)},r};const Rr=(()=>!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)))(),Tr=$r().isMobile(Rr),zr=lt("./data/vt-towns.json"),Lr=lt("./data/tracts.json");Promise.all([zr,Lr]).then(([t,n])=>{W(".d3-wrapper").data([[t,n]]).each(Tr)})}]);